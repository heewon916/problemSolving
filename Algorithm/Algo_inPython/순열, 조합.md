# 📌 순열(Permutation)과 조합(Combination)

**✅ 공통점**

- 서로 다른 n개의 값에서 r개를 **뽑아 나열**하는 방식

**✅ 차이점**


| 구분 | 순서 고려 | 공식                  |
| ---- | --------- | --------------------- |
| 순열 | ✅ O      | nPr = n! / (n-r)!     |
| 조합 | ❌ X      | nCr = n! / (r!(n-r)!) |

---

## 🎯 구현 1. 재귀 함수로 직접 구현

### 📍순열 (Permutation)
- 배열 `arr`에서 중복 없이 r개를 골라 **모든 순열 생성**

#### 📎방법1. 중복 없이 기본 순열 
```python
def permutation(arr, r):
    arr = sorted(arr)
    used = [0] * len(arr)
  
    def generate(chosen):
        if len(chosen) == r:
            print(chosen)
            return
        for i in range(len(arr)):
            if not used[i]:
                used[i] = 1
                chosen.append(arr[i])
                generate(chosen)
                chosen.pop()
                used[i] = 0
  
    generate([])
```

#### 📎방법2. 중복 가능한 순열 
```python
import sys
input = sys.stdin.readline

N, M = map(int, input().rstrip().split())
li = list(map(int, input().rstrip().split()))
li.sort()
def generate(chosen):
    if len(chosen) == M:
        print(" ".join(map(str, chosen)))
        return
    for i in range(N):
        chosen.append(li[i])
        generate(chosen)
        chosen.pop()
generate([])
```
---

### 📍조합 (Combination)

#### 📎 방법 1: 기본 조합 (중복 X)

```python
def combination(arr, r):
    arr.sort()

    def generate(chosen):
        if len(chosen) == r:
            print(chosen)
            return
        start = arr.index(chosen[-1]) + 1 if chosen else 0
        for i in range(start, len(arr)):
            chosen.append(arr[i])
            generate(chosen)
            chosen.pop()

    generate([])
```

#### 📎 방법 2: 입력을 직접 받아 조합 구현 (중복 X)

```python
N, M = map(int, input().split())
li = sorted(map(int, input().split()))
visited = [0] * N

def generate(chosen):
    if len(chosen) == M:
        print(' '.join(map(str, chosen)))
        return
    for i in range(N):
        if not visited[i]:
            visited[i] = 1
            chosen.append(li[i])
            generate(chosen)
            chosen.pop()
            visited[i] = 0

generate([])
```

---

### 📍조합 (중복 O)

```python
# 1부터 N까지 수 중에서 M개를 중복 허용하여 조합
def combination(arr, r):
    arr.sort()

    def generate(start, chosen):
        if len(chosen) == r:
            print(chosen)
            return
        for i in range(start, len(arr)):
            chosen.append(arr[i])
            generate(i, chosen)
            chosen.pop()

    generate(0, [])
```

---

## 🎯 구현 2. itertools 라이브러리 활용

### ✅ 순열

```python
from itertools import permutations

arr = [1, 2, 3]
for p in permutations(arr, 2):  # nPr
    print(p)
```

- 시간복잡도: **O(nPr) = O(n! / (n-r)!)**
- r=n이면 O(n!)

---

### ✅ 조합

```python
from itertools import combinations

arr = [1, 2, 3]
for c in combinations(arr, 2):  # nCr
    print(c)
```

- 시간복잡도: **O(nCr)**
- r=1~n 전체 조합이면: **O(2ⁿ)**

---

## 🧠 요약


| 구현 방식        | 순열 시간복잡도      | 조합 시간복잡도    |
| ---------------- | -------------------- | ------------------ |
| 재귀 (직접 구현) | O(n!) (r=n 기준)     | O(2ⁿ) (전체 조합) |
| itertools 사용   | 동일 (O(n!), O(nCr)) | 동일 (O(2ⁿ))      |
